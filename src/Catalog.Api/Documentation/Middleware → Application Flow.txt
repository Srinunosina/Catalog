Middleware → Application Flow
HTTP REQUEST
     │
     ▼
┌─────────────────────────────────────┐
│ Reverse Proxy / HTTPS / Headers     │
│ UseForwardedHeaders                │
│ UseHttpsRedirection                │
│ UseHsts                            │
└─────────────────────────────────────┘
     │
     ▼
┌─────────────────────────────────────┐
│ Observability & Diagnostics         │
│ Logging / Tracing / Metrics         │
└─────────────────────────────────────┘
     │
     ▼
┌─────────────────────────────────────┐
│ Global HTTP Exception Handler       │
│ (Last-resort safety net)            │
└─────────────────────────────────────┘
     │
     ▼
┌─────────────────────────────────────┐
│ Security Headers / Hardening        │
└─────────────────────────────────────┘
     │
     ▼
┌─────────────────────────────────────┐
│ CORS                                │
└─────────────────────────────────────┘
     │
     ▼
┌─────────────────────────────────────┐
│ Authentication                      │
└─────────────────────────────────────┘
     │
     ▼
┌─────────────────────────────────────┐
│ Authorization                       │
└─────────────────────────────────────┘
     │
     ▼
┌─────────────────────────────────────┐
│ Rate Limiting (Optional)            │
└─────────────────────────────────────┘
     │
     ▼
┌─────────────────────────────────────┐
│ Routing (Endpoint Selection)        │
└─────────────────────────────────────┘
     │
     ▼
┌─────────────────────────────────────┐
│ Controllers / Minimal APIs          │
│ ─── Presentation Boundary ───       │
└─────────────────────────────────────┘
     │
     ▼
┌─────────────────────────────────────┐
│ MediatR Pipeline                    │
│ Validation → Domain → Persistence   │
└─────────────────────────────────────┘
     │
     ▼
HTTP RESPONSE
